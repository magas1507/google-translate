ciclo de vida del estado usando useReducer. EstÃ¡ dividido en estas partes:

state (el estado actual)

dispatch (funciÃ³n que lanza acciones)

useReducer (el hook de React)

reducer (la funciÃ³n que genera el nuevo estado)

action (la "orden" que se quiere ejecutar)

initialState (estado inicial que le damos al hook)

ğŸ” Paso a paso del flujo
ğŸŸª Paso 1: useReducer recibe dos cosas
ts

const [state, dispatch] = useReducer(reducer, initialState)
initialState: El estado inicial del componente (ej: idiomas por defecto, texto vacÃ­o, etc).

reducer: FunciÃ³n que sabe cÃ³mo transformar el estado segÃºn una "acciÃ³n".

En la imagen, esto estÃ¡ representado por los nÃºmeros 1 (initialState) y 2 (reducer).

ğŸŸ¥ Paso 2: El usuario hace algo â†’ se ejecuta dispatch
Por ejemplo:

dispatch({ type: 'SET_FROM_LANGUAGE', payload: 'es' })
AquÃ­ estamos diciendo: â€œquiero cambiar el idioma de origen a espaÃ±olâ€.

Esa acciÃ³n es enviada con dispatch, como se muestra en la imagen.

ğŸŸ§ Paso 3: El reducer recibe esa acciÃ³n
El reducer recibe:


(state, action) => { ... }
SegÃºn el type de la acciÃ³n, el reducer genera un nuevo estado.

ğŸ“Œ Ejemplo:

case 'SET_FROM_LANGUAGE':
  return {
    ...state,
    fromLanguage: action.payload
  }
ğŸŸ© Paso 4: El estado cambia â†’ se vuelve a renderizar el componente
Cuando el nuevo estado es devuelto por el reducer, React:

Lo asigna al state.

Vuelve a ejecutar el componente â†’ se refleja el cambio en la UI.

En la imagen: state va al render <Component />.

ğŸ” Este ciclo se repite cada vez que llamÃ¡s a dispatch
Es muy parecido a cÃ³mo funciona useState, pero con mÃ¡s control cuando tenÃ©s varios estados relacionados.

ğŸ“Œ Resumen visual del ciclo
useReducer se inicializa con initialState y reducer.

El usuario hace algo â†’ se dispara una action usando dispatch.

El reducer usa la acciÃ³n y el estado actual para devolver un nuevo estado.

React actualiza el state.

El componente se vuelve a renderizar con los datos nuevos.

typeof
Sirve para obtener el tipo de una variable, objeto o constante.

const colores = {
  rojo: '#ff0000',
  azul: '#0000ff'
}

type ColoresType = typeof colores
AquÃ­, ColoresType serÃ­a:

{
  rojo: string;
  azul: string;
}
ğŸ”¸ keyof
Sirve para obtener las claves de un tipo como una uniÃ³n de strings:

ts
Copiar
Editar
type ColoresKeys = keyof ColoresType
// Resultado: 'rojo' | 'azul'
ğŸ§  Â¿QuÃ© es keyof typeof?
Es una combinaciÃ³n que se usa mucho asÃ­:
const colores = {
  rojo: '#ff0000',
  azul: '#0000ff',
  verde: '#00ff00'
}

type NombreColores = keyof typeof colores
// Resultado: 'rojo' | 'azul' | 'verde'
ğŸ”§ Es decir:

typeof colores â†’ obtiene el tipo del objeto colores.

keyof ... â†’ extrae las claves de ese tipo.

